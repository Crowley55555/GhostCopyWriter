# üê≥ Ghostwriter - –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Docker –¥–µ–ø–ª–æ—é

–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ —á–µ—Ä–µ–∑ Docker.

---

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞-—Å–∏—Å—Ç–µ–º—ã)
2. [–ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è](#–ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
3. [–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –¥–µ–ø–ª–æ—é](#–ø–æ–¥–≥–æ—Ç–æ–≤–∫–∞-–∫-–¥–µ–ø–ª–æ—é)
4. [–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞](#–ª–æ–∫–∞–ª—å–Ω–∞—è-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞)
5. [Production –¥–µ–ø–ª–æ–π - Django + Bot (–†–æ—Å—Å–∏–π—Å–∫–∏–π —Å–µ—Ä–≤–µ—Ä)](#production-–¥–µ–ø–ª–æ–π---django--bot-—Ä–æ—Å—Å–∏–π—Å–∫–∏–π-—Å–µ—Ä–≤–µ—Ä)
6. [Production –¥–µ–ø–ª–æ–π - Flask (–ó–∞—Ä—É–±–µ–∂–Ω—ã–π —Å–µ—Ä–≤–µ—Ä)](#production-–¥–µ–ø–ª–æ–π---flask-–∑–∞—Ä—É–±–µ–∂–Ω—ã–π-—Å–µ—Ä–≤–µ—Ä)
7. [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞-ssl-—Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤)
8. [–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ](#–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥-–∏-–æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ)
9. [–†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ä–µ–∑–µ—Ä–≤–Ω–æ–µ-–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ)
10. [–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º](#—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ-–ø—Ä–æ–±–ª–µ–º)

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

Ghostwriter —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ **—Ç—Ä–µ—Ö –æ—Å–Ω–æ–≤–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤**:

### 1. Django Application (–†–æ—Å—Å–∏–π—Å–∫–∏–π —Å–µ—Ä–≤–µ—Ä)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Å–Ω–æ–≤–Ω–æ–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å, —Å–∏—Å—Ç–µ–º–∞ —Ç–æ–∫–µ–Ω–æ–≤, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **–ü–æ—Ä—Ç—ã**: 8000 (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π), 80/443 (Nginx)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: PostgreSQL, Redis, GigaChat API
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã**: `django`, `db`, `redis`, `nginx`

### 2. Telegram Bot (–†–æ—Å—Å–∏–π—Å–∫–∏–π —Å–µ—Ä–≤–µ—Ä)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –≤—ã–¥–∞—á–∞ —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- **API**: Webhook –æ—Ç Telegram, REST API –∫ Django
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä**: `bot`

### 3. Flask AI Generator (–ó–∞—Ä—É–±–µ–∂–Ω—ã–π —Å–µ—Ä–≤–µ—Ä)
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —á–µ—Ä–µ–∑ OpenAI API
- **–ü–æ—Ä—Ç—ã**: 5000 (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π), 80/443 (Nginx)
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: OpenAI API
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã**: `flask-ai`, `nginx-flask`, `redis-flask`

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      –†–û–°–°–ò–ô–°–ö–ò–ô –°–ï–†–í–ï–†                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ   Nginx    ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ   Django     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (80/443)  ‚îÇ      ‚îÇ   (8000)     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                             ‚îÇ           ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ  Telegram  ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ  PostgreSQL  ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ    Bot     ‚îÇ      ‚îÇ    Redis     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ HTTPS (encrypted)
             ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ      –ó–ê–†–£–ë–ï–ñ–ù–´–ô –°–ï–†–í–ï–†                  ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ   Nginx    ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ    Flask     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ  (80/443)  ‚îÇ      ‚îÇ   AI Gen     ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                             ‚îÇ           ‚îÇ
‚îÇ                      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ                      ‚îÇ    Redis     ‚îÇ  ‚îÇ
‚îÇ                      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## üì¶ –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

### –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É

#### –†–æ—Å—Å–∏–π—Å–∫–∏–π —Å–µ—Ä–≤–µ—Ä (Django + Bot)
- **CPU**: 2 —è–¥—Ä–∞
- **RAM**: 2 GB
- **Disk**: 20 GB SSD
- **OS**: Ubuntu 20.04/22.04 LTS –∏–ª–∏ Debian 11/12
- **–°–µ—Ç—å**: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP, –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã 80, 443

#### –ó–∞—Ä—É–±–µ–∂–Ω—ã–π —Å–µ—Ä–≤–µ—Ä (Flask)
- **CPU**: 1 —è–¥—Ä–æ
- **RAM**: 1 GB
- **Disk**: 10 GB SSD
- **OS**: Ubuntu 20.04/22.04 LTS –∏–ª–∏ Debian 11/12
- **–°–µ—Ç—å**: –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π IP, –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ—Ä—Ç—ã 80, 443

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker

#### –ù–∞ Ubuntu/Debian:

```bash
# –û–±–Ω–æ–≤–ª—è–µ–º —Å–∏—Å—Ç–µ–º—É
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
sudo apt install -y apt-transport-https ca-certificates curl gnupg lsb-release

# –î–æ–±–∞–≤–ª—è–µ–º GPG –∫–ª—é—á Docker
curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg

# –î–æ–±–∞–≤–ª—è–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π Docker
echo "deb [arch=$(dpkg --print-architecture) signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu $(lsb_release -cs) stable" | sudo tee /etc/apt/sources.list.d/docker.list > /dev/null

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Docker
sudo apt update
sudo apt install -y docker-ce docker-ce-cli containerd.io docker-compose-plugin

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É
docker --version
docker compose version

# –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –≥—Ä—É–ø–ø—É docker
sudo usermod -aG docker $USER
newgrp docker

# –í–∫–ª—é—á–∞–µ–º –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ Docker
sudo systemctl enable docker
sudo systemctl start docker
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–µ–π

#### 1. GigaChat API (–¥–ª—è Django)
```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://developers.sber.ru/portal/products/gigachat
# –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏ —Å–æ–∑–¥–∞–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
# –ü–æ–ª—É—á–∏—Ç–µ CLIENT_ID –∏ CLIENT_SECRET
```

#### 2. OpenAI API (–¥–ª—è Flask)
```bash
# –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ https://platform.openai.com/api-keys
# –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç –∏–ª–∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å
# –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π API –∫–ª—é—á
# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á (–æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑!)
```

#### 3. Telegram Bot Token
```bash
# –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ @BotFather
# –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É /newbot
# –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞
# –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω
```

---

## üîß –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –¥–µ–ø–ª–æ—é

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
# –ù–∞ –∫–∞–∂–¥–æ–º —Å–µ—Ä–≤–µ—Ä–µ
git clone https://github.com/yourusername/ghostwriter.git
cd ghostwriter
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### –î–ª—è Django + Bot (–†–æ—Å—Å–∏–π—Å–∫–∏–π —Å–µ—Ä–≤–µ—Ä):

```bash
# –ö–æ–ø–∏—Ä—É–µ–º —à–∞–±–ª–æ–Ω
cp env.example .env

# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º .env
nano .env
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è production:**

```env
# Django
DJANGO_SECRET_KEY=–≤–∞—à-—Å—É–ø–µ—Ä-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-–∫–ª—é—á-—Å–º–µ–Ω–∏—Ç–µ-—ç—Ç–æ
ALLOWED_HOSTS=yourdomain.com,www.yourdomain.com
DEBUG=False

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
DB_PASSWORD=–æ—á–µ–Ω—å-–Ω–∞–¥–µ–∂–Ω—ã–π-–ø–∞—Ä–æ–ª—å-–±–∞–∑—ã-–¥–∞–Ω–Ω—ã—Ö

# GigaChat API
GIGACHAT_CLIENT_ID=–≤–∞—à-gigachat-client-id
GIGACHAT_CLIENT_SECRET=–≤–∞—à-gigachat-client-secret

# Flask –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å (URL –∑–∞—Ä—É–±–µ–∂–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞)
FLASK_EXTERNAL_URL=https://flask.yourdomain.com

# Telegram Bot
TELEGRAM_BOT_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
TELEGRAM_WEBHOOK_URL=https://yourdomain.com/telegram/webhook/
TELEGRAM_WEBHOOK_SECRET=–≤–∞—à-—Å–µ–∫—Ä–µ—Ç–Ω—ã–π-—Ç–æ–∫–µ–Ω-–º–∏–Ω–∏–º—É–º-32-—Å–∏–º–≤–æ–ª–∞
SITE_URL=https://yourdomain.com
DJANGO_API_URL=http://django:8000

# Redis
REDIS_URL=redis://redis:6379/0
```

#### –î–ª—è Flask (–ó–∞—Ä—É–±–µ–∂–Ω—ã–π —Å–µ—Ä–≤–µ—Ä):

```bash
cp env.example .env
nano .env
```

**–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:**

```env
# OpenAI API
OPENAI_API_KEY=sk-–≤–∞—à-openai-api-–∫–ª—é—á

# –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ (–î–û–õ–ñ–ù–û –°–û–í–ü–ê–î–ê–¢–¨ —Å Django —Å–µ—Ä–≤–µ—Ä–æ–º!)
GENERATOR_ENCRYPTION_KEY=—Ç–æ—Ç-–∂–µ-–∫–ª—é—á-—á—Ç–æ-–∏-–Ω–∞-django-—Å–µ—Ä–≤–µ—Ä–µ

# –ú–æ–¥–µ–ª–∏
OPENAI_MODEL=gpt-3.5-turbo
DALLE_MODEL=dall-e-3
```

### 3. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ–∫—Ä–µ—Ç–Ω—ã—Ö –∫–ª—é—á–µ–π

```bash
# Django Secret Key
python3 -c 'from django.core.management.utils import get_random_secret_key; print(get_random_secret_key())'

# Telegram Webhook Secret
openssl rand -hex 32

# Encryption Key (–µ—Å–ª–∏ –Ω—É–∂–µ–Ω –Ω–æ–≤—ã–π)
python3 -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
```

---

## üíª –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è –Ω–∞ –æ–¥–Ω–æ–π –º–∞—à–∏–Ω–µ.

### 1. –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

```bash
# –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ .env –Ω–∞—Å—Ç—Ä–æ–µ–Ω
cp env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

# –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Å–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker compose up -d

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
docker compose ps

# –°–º–æ—Ç—Ä–∏–º –ª–æ–≥–∏
docker compose logs -f
```

### 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∏–≥—Ä–∞—Ü–∏–∏
docker compose exec django python manage.py migrate

# –°–æ–∑–¥–∞–µ–º —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
docker compose exec django python manage.py createsuperuser

# –°–æ–∑–¥–∞–µ–º developer —Ç–æ–∫–µ–Ω
docker compose exec django python manage.py create_dev_token --name="Your Name"
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# Django
curl http://localhost:8000/

# Flask
curl http://localhost:5000/

# Nginx
curl http://localhost/
```

### 4. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –æ—á–∏—Å—Ç–∫–∞

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker compose down

# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ —É–¥–∞–ª–∏—Ç—å volumes (–ë–î –±—É–¥–µ—Ç –æ—á–∏—â–µ–Ω–∞!)
docker compose down -v

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker compose up -d --build
```

---

## üöÄ Production –¥–µ–ø–ª–æ–π - Django + Bot (–†–æ—Å—Å–∏–π—Å–∫–∏–π —Å–µ—Ä–≤–µ—Ä)

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh user@your-server-ip

# –û–±–Ω–æ–≤–ª—è–µ–º —Å–∏—Å—Ç–µ–º—É
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Docker (—Å–º. —Ä–∞–∑–¥–µ–ª "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker")

# –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
sudo mkdir -p /opt/ghostwriter/{postgres,redis,media,staticfiles,logs,ssl,backups}
sudo chown -R $USER:$USER /opt/ghostwriter
```

### –®–∞–≥ 2: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
cd /opt
git clone https://github.com/yourusername/ghostwriter.git
cd ghostwriter

# –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º .env
cp env.example .env
nano .env
# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ production –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ!
```

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

```bash
# –†–µ–¥–∞–∫—Ç–∏—Ä—É–µ–º nginx.prod.conf
nano nginx.prod.conf

# –ó–∞–º–µ–Ω–∏—Ç–µ yourdomain.com –Ω–∞ –≤–∞—à —Ä–µ–∞–ª—å–Ω—ã–π –¥–æ–º–µ–Ω
sed -i 's/yourdomain.com/your-actual-domain.com/g' nginx.prod.conf
```

### –®–∞–≥ 4: –ü–æ–ª—É—á–µ–Ω–∏–µ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

#### –í–∞—Ä–∏–∞–Ω—Ç –ê: Let's Encrypt (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Certbot
sudo apt install -y certbot

# –ü–æ–ª—É—á–∞–µ–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–¥–ª—è –Ω–∞—á–∞–ª–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Nginx –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä)
sudo certbot certonly --standalone -d yourdomain.com -d www.yourdomain.com

# –ö–æ–ø–∏—Ä—É–µ–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
sudo cp /etc/letsencrypt/live/yourdomain.com/fullchain.pem /opt/ghostwriter/ssl/cert.pem
sudo cp /etc/letsencrypt/live/yourdomain.com/privkey.pem /opt/ghostwriter/ssl/key.pem
sudo chown $USER:$USER /opt/ghostwriter/ssl/*.pem

# –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
sudo crontab -e
# –î–æ–±–∞–≤—å—Ç–µ —Å—Ç—Ä–æ–∫—É:
# 0 3 * * 0 certbot renew --quiet && cp /etc/letsencrypt/live/yourdomain.com/*.pem /opt/ghostwriter/ssl/ && docker compose -f /opt/ghostwriter/docker-compose.production.yml restart nginx
```

#### –í–∞—Ä–∏–∞–Ω—Ç –ë: –°–∞–º–æ–ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (—Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è!)

```bash
openssl req -x509 -nodes -days 365 -newkey rsa:2048 \
  -keyout /opt/ghostwriter/ssl/key.pem \
  -out /opt/ghostwriter/ssl/cert.pem \
  -subj "/CN=yourdomain.com"
```

### –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ production –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
# –°–æ–±–∏—Ä–∞–µ–º –∏ –∑–∞–ø—É—Å–∫–∞–µ–º –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker compose -f docker-compose.production.yml up -d --build

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
docker compose -f docker-compose.production.yml ps

# –°–º–æ—Ç—Ä–∏–º –ª–æ–≥–∏
docker compose -f docker-compose.production.yml logs -f django
```

### –®–∞–≥ 6: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Django

```bash
# –ü—Ä–∏–º–µ–Ω—è–µ–º –º–∏–≥—Ä–∞—Ü–∏–∏
docker compose -f docker-compose.production.yml exec django python manage.py migrate

# –°–æ–±–∏—Ä–∞–µ–º —Å—Ç–∞—Ç–∏–∫—É
docker compose -f docker-compose.production.yml exec django python manage.py collectstatic --noinput

# –°–æ–∑–¥–∞–µ–º —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
docker compose -f docker-compose.production.yml exec django python manage.py createsuperuser

# –°–æ–∑–¥–∞–µ–º developer —Ç–æ–∫–µ–Ω
docker compose -f docker-compose.production.yml exec django python manage.py create_dev_token --name="Admin"
```

### –®–∞–≥ 7: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Webhook

```bash
# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º webhook –¥–ª—è –±–æ—Ç–∞
curl -X POST "https://api.telegram.org/bot<YOUR_BOT_TOKEN>/setWebhook" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://yourdomain.com/telegram/webhook/",
    "secret_token": "–≤–∞—à-webhook-secret"
  }'

# –ü—Ä–æ–≤–µ—Ä—è–µ–º webhook
curl "https://api.telegram.org/bot<YOUR_BOT_TOKEN>/getWebhookInfo"

# –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
# {
#   "ok": true,
#   "result": {
#     "url": "https://yourdomain.com/telegram/webhook/",
#     "has_custom_certificate": false,
#     "pending_update_count": 0
#   }
# }
```

### –®–∞–≥ 8: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º Django
curl https://yourdomain.com/

# –ü—Ä–æ–≤–µ—Ä—è–µ–º API
curl https://yourdomain.com/api/tokens/create/ \
  -X POST \
  -H "Content-Type: application/json" \
  -H "X-Telegram-Bot-Api-Secret-Token: –≤–∞—à-webhook-secret" \
  -d '{"token_type": "DEMO", "chat_id": 123456}'

# –ü—Ä–æ–≤–µ—Ä—è–µ–º Admin –ø–∞–Ω–µ–ª—å
# –û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ: https://yourdomain.com/admin/

# –¢–µ—Å—Ç–∏—Ä—É–µ–º Telegram –±–æ—Ç–∞
# –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ –≤ Telegram –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ /start
```

### –®–∞–≥ 9: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞

```bash
# –°–æ–∑–¥–∞–µ–º systemd service
sudo nano /etc/systemd/system/ghostwriter.service
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:

```ini
[Unit]
Description=Ghostwriter Docker Compose
Requires=docker.service
After=docker.service

[Service]
Type=oneshot
RemainAfterExit=yes
WorkingDirectory=/opt/ghostwriter
ExecStart=/usr/bin/docker compose -f docker-compose.production.yml up -d
ExecStop=/usr/bin/docker compose -f docker-compose.production.yml down
TimeoutStartSec=0

[Install]
WantedBy=multi-user.target
```

```bash
# –í–∫–ª—é—á–∞–µ–º –∏ –∑–∞–ø—É—Å–∫–∞–µ–º service
sudo systemctl enable ghostwriter.service
sudo systemctl start ghostwriter.service

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
sudo systemctl status ghostwriter.service
```

---

## üåê Production –¥–µ–ø–ª–æ–π - Flask (–ó–∞—Ä—É–±–µ–∂–Ω—ã–π —Å–µ—Ä–≤–µ—Ä)

Flask –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å —Ä–∞–∑–º–µ—â–∞–µ—Ç—Å—è –Ω–∞ –∑–∞—Ä—É–±–µ–∂–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ OpenAI API.

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –∑–∞—Ä—É–±–µ–∂–Ω–æ–º—É —Å–µ—Ä–≤–µ—Ä—É
ssh user@flask-server-ip

# –û–±–Ω–æ–≤–ª—è–µ–º —Å–∏—Å—Ç–µ–º—É
sudo apt update && sudo apt upgrade -y

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Docker (—Å–º. —Ä–∞–∑–¥–µ–ª "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker")

# –°–æ–∑–¥–∞–µ–º –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
sudo mkdir -p /opt/flask-ai/{logs,ssl,redis}
sudo chown -R $USER:$USER /opt/flask-ai
```

### –®–∞–≥ 2: –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
cd /opt
git clone https://github.com/yourusername/ghostwriter.git
cd ghostwriter

# –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º .env –¥–ª—è Flask
cp env.example .env
nano .env
```

**–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è Flask:**

```env
OPENAI_API_KEY=sk-–≤–∞—à-openai-api-–∫–ª—é—á
GENERATOR_ENCRYPTION_KEY=—Ç–æ—Ç-–∂–µ-–∫–ª—é—á-—á—Ç–æ-–Ω–∞-django-—Å–µ—Ä–≤–µ—Ä–µ
OPENAI_MODEL=gpt-3.5-turbo
DALLE_MODEL=dall-e-3
REQUEST_TIMEOUT=300
MAX_REQUESTS=1000
```

### –®–∞–≥ 3: SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã –¥–ª—è Flask

```bash
# –ü–æ–ª—É—á–∞–µ–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–ª—è –ø–æ–¥–¥–æ–º–µ–Ω–∞
sudo certbot certonly --standalone -d flask.yourdomain.com

# –ö–æ–ø–∏—Ä—É–µ–º —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
sudo cp /etc/letsencrypt/live/flask.yourdomain.com/fullchain.pem /opt/flask-ai/ssl/cert.pem
sudo cp /etc/letsencrypt/live/flask.yourdomain.com/privkey.pem /opt/flask-ai/ssl/key.pem
sudo chown $USER:$USER /opt/flask-ai/ssl/*.pem
```

### –®–∞–≥ 4: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Nginx –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Flask

```bash
cd /opt/ghostwriter
nano flask_generator/nginx.conf

# –ó–∞–º–µ–Ω–∏—Ç–µ yourdomain.com –Ω–∞ flask.yourdomain.com
```

### –®–∞–≥ 5: –ó–∞–ø—É—Å–∫ Flask –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
# –ó–∞–ø—É—Å–∫–∞–µ–º Flask –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å
docker compose -f docker-compose.flask.yml up -d --build

# –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å
docker compose -f docker-compose.flask.yml ps

# –°–º–æ—Ç—Ä–∏–º –ª–æ–≥–∏
docker compose -f docker-compose.flask.yml logs -f flask-ai
```

### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã

```bash
# –õ–æ–∫–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
curl http://localhost:5000/

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ Nginx
curl https://flask.yourdomain.com/

# –¢–µ—Å—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ (—Å Django —Å–µ—Ä–≤–µ—Ä–∞)
# –î–æ–ª–∂–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ FLASK_EXTERNAL_URL
```

### –®–∞–≥ 7: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞ Flask

```bash
sudo nano /etc/systemd/system/ghostwriter-flask.service
```

```ini
[Unit]
Description=Ghostwriter Flask AI Service
Requires=docker.service
After=docker.service

[Service]
Type=oneshot
RemainAfterExit=yes
WorkingDirectory=/opt/ghostwriter
ExecStart=/usr/bin/docker compose -f docker-compose.flask.yml up -d
ExecStop=/usr/bin/docker compose -f docker-compose.flask.yml down
TimeoutStartSec=0

[Install]
WantedBy=multi-user.target
```

```bash
sudo systemctl enable ghostwriter-flask.service
sudo systemctl start ghostwriter-flask.service
```

---

## üîê –ù–∞—Å—Ç—Ä–æ–π–∫–∞ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–æ–≤

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ Let's Encrypt

#### –ù–∞ Django —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –°–æ–∑–¥–∞–µ–º —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
sudo nano /opt/ghostwriter/renew-ssl.sh
```

```bash
#!/bin/bash
certbot renew --quiet
cp /etc/letsencrypt/live/yourdomain.com/fullchain.pem /opt/ghostwriter/ssl/cert.pem
cp /etc/letsencrypt/live/yourdomain.com/privkey.pem /opt/ghostwriter/ssl/key.pem
docker compose -f /opt/ghostwriter/docker-compose.production.yml restart nginx
echo "SSL certificates renewed: $(date)" >> /opt/ghostwriter/logs/ssl-renewal.log
```

```bash
sudo chmod +x /opt/ghostwriter/renew-ssl.sh

# –î–æ–±–∞–≤–ª—è–µ–º –≤ crontab
sudo crontab -e
# –î–æ–±–∞–≤—å—Ç–µ:
0 3 * * 0 /opt/ghostwriter/renew-ssl.sh
```

#### –ù–∞ Flask —Å–µ—Ä–≤–µ—Ä–µ:

```bash
sudo nano /opt/flask-ai/renew-ssl.sh
```

```bash
#!/bin/bash
certbot renew --quiet
cp /etc/letsencrypt/live/flask.yourdomain.com/fullchain.pem /opt/flask-ai/ssl/cert.pem
cp /etc/letsencrypt/live/flask.yourdomain.com/privkey.pem /opt/flask-ai/ssl/key.pem
docker compose -f /opt/ghostwriter/docker-compose.flask.yml restart nginx-flask
echo "Flask SSL certificates renewed: $(date)" >> /opt/flask-ai/logs/ssl-renewal.log
```

```bash
sudo chmod +x /opt/flask-ai/renew-ssl.sh
sudo crontab -e
# –î–æ–±–∞–≤—å—Ç–µ:
0 3 * * 0 /opt/flask-ai/renew-ssl.sh
```

---

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤

```bash
# Django —Å–µ—Ä–≤–µ—Ä
docker compose -f docker-compose.production.yml ps
docker compose -f docker-compose.production.yml logs -f --tail=100

# Flask —Å–µ—Ä–≤–µ—Ä
docker compose -f docker-compose.flask.yml ps
docker compose -f docker-compose.flask.yml logs -f --tail=100
```

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ä–µ—Å—É—Ä—Å–æ–≤

```bash
# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞–º–∏
docker stats

# –ú–µ—Å—Ç–æ –Ω–∞ –¥–∏—Å–∫–µ
df -h
du -sh /opt/ghostwriter/*
```

### –õ–æ–≥–∏

```bash
# Django –ª–æ–≥–∏
tail -f /opt/ghostwriter/logs/django.log

# Nginx –ª–æ–≥–∏
tail -f /opt/ghostwriter/logs/nginx/access.log
tail -f /opt/ghostwriter/logs/nginx/error.log

# Flask –ª–æ–≥–∏
tail -f /opt/flask-ai/logs/flask.log

# Bot –ª–æ–≥–∏
docker compose -f docker-compose.production.yml logs -f bot
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

```bash
# Django —Å–µ—Ä–≤–µ—Ä
cd /opt/ghostwriter
git pull origin main
docker compose -f docker-compose.production.yml up -d --build
docker compose -f docker-compose.production.yml exec django python manage.py migrate
docker compose -f docker-compose.production.yml exec django python manage.py collectstatic --noinput
docker compose -f docker-compose.production.yml restart

# Flask —Å–µ—Ä–≤–µ—Ä
cd /opt/ghostwriter
git pull origin main
docker compose -f docker-compose.flask.yml up -d --build
docker compose -f docker-compose.flask.yml restart
```

### –û—á–∏—Å—Ç–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤

```bash
# –†—É—á–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (APScheduler –¥–µ–ª–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
docker compose -f docker-compose.production.yml exec django python manage.py cleanup_tokens

# Dry-run (–ø–æ–∫–∞–∑–∞—Ç—å —á—Ç–æ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ)
docker compose -f docker-compose.production.yml exec django python manage.py cleanup_tokens --dry-run

# –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –¥–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
docker compose -f docker-compose.production.yml exec django python manage.py cleanup_tokens --delete --days=90
```

---

## üíæ –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø PostgreSQL

```bash
# –°–æ–∑–¥–∞–µ–º —Å–∫—Ä–∏–ø—Ç –±—ç–∫–∞–ø–∞
sudo nano /opt/ghostwriter/backup.sh
```

```bash
#!/bin/bash
BACKUP_DIR="/opt/ghostwriter/backups"
TIMESTAMP=$(date +%Y%m%d_%H%M%S)
BACKUP_FILE="ghostwriter_backup_$TIMESTAMP.sql.gz"

# –°–æ–∑–¥–∞–µ–º –±—ç–∫–∞–ø
docker compose -f /opt/ghostwriter/docker-compose.production.yml exec -T db \
  pg_dump -U ghostwriter ghostwriter | gzip > "$BACKUP_DIR/$BACKUP_FILE"

# –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –±—ç–∫–∞–ø—ã (—Å—Ç–∞—Ä—à–µ 30 –¥–Ω–µ–π)
find "$BACKUP_DIR" -name "ghostwriter_backup_*.sql.gz" -mtime +30 -delete

echo "Backup created: $BACKUP_FILE" >> /opt/ghostwriter/logs/backup.log

# –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: –∑–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —É–¥–∞–ª–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä
# scp "$BACKUP_DIR/$BACKUP_FILE" user@backup-server:/backups/
```

```bash
sudo chmod +x /opt/ghostwriter/backup.sh

# –î–æ–±–∞–≤–ª—è–µ–º –≤ crontab (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 2:00 AM)
sudo crontab -e
# –î–æ–±–∞–≤—å—Ç–µ:
0 2 * * * /opt/ghostwriter/backup.sh
```

### –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ –±—ç–∫–∞–ø–∞

```bash
# –°–ø–∏—Å–æ–∫ –±—ç–∫–∞–ø–æ–≤
ls -lh /opt/ghostwriter/backups/

# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
gunzip < /opt/ghostwriter/backups/ghostwriter_backup_TIMESTAMP.sql.gz | \
  docker compose -f docker-compose.production.yml exec -T db \
  psql -U ghostwriter ghostwriter
```

### –ë—ç–∫–∞–ø –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤

```bash
# –°–æ–∑–¥–∞–µ–º –∞—Ä—Ö–∏–≤ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤
tar -czf /opt/ghostwriter/backups/media_$(date +%Y%m%d).tar.gz \
  -C /opt/ghostwriter media/

# –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (–¥–æ–±–∞–≤—å—Ç–µ –≤ backup.sh)
```

---

## üîß –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏
docker compose -f docker-compose.production.yml logs <service-name>

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
docker compose -f docker-compose.production.yml config

# –ü–µ—Ä–µ—Å–æ–±–∏—Ä–∞–µ–º –±–µ–∑ –∫–µ—à–∞
docker compose -f docker-compose.production.yml build --no-cache <service-name>
docker compose -f docker-compose.production.yml up -d <service-name>
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ –ë–î –∑–∞–ø—É—â–µ–Ω–∞
docker compose -f docker-compose.production.yml ps db

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏ –ë–î
docker compose -f docker-compose.production.yml logs db

# –ü–æ–¥–∫–ª—é—á–∞–µ–º—Å—è –∫ –ë–î –≤—Ä—É—á–Ω—É—é
docker compose -f docker-compose.production.yml exec db psql -U ghostwriter

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
docker compose -f docker-compose.production.yml exec django env | grep DB_
```

### –ü—Ä–æ–±–ª–µ–º–∞: Telegram webhook –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º webhook info
curl "https://api.telegram.org/bot<YOUR_TOKEN>/getWebhookInfo"

# –£–¥–∞–ª—è–µ–º –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–Ω–æ–≤–æ
curl -X POST "https://api.telegram.org/bot<YOUR_TOKEN>/deleteWebhook"
curl -X POST "https://api.telegram.org/bot<YOUR_TOKEN>/setWebhook" \
  -H "Content-Type: application/json" \
  -d '{"url": "https://yourdomain.com/telegram/webhook/", "secret_token": "your-secret"}'

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏ –±–æ—Ç–∞
docker compose -f docker-compose.production.yml logs -f bot

# –¢–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
curl -X POST https://yourdomain.com/telegram/webhook/ \
  -H "Content-Type: application/json" \
  -H "X-Telegram-Bot-Api-Secret-Token: your-secret" \
  -d '{"update_id": 1}'
```

### –ü—Ä–æ–±–ª–µ–º–∞: Flask –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω —Å Django —Å–µ—Ä–≤–µ—Ä–∞

```bash
# –° Django —Å–µ—Ä–≤–µ—Ä–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Flask
curl https://flask.yourdomain.com/

# –ü—Ä–æ–≤–µ—Ä—è–µ–º FLASK_EXTERNAL_URL –≤ .env
cat .env | grep FLASK_EXTERNAL_URL

# –ü—Ä–æ–≤–µ—Ä—è–µ–º encryption key (–¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å!)
# –ù–∞ Django —Å–µ—Ä–≤–µ—Ä–µ:
cat .env | grep GENERATOR_ENCRYPTION_KEY
# –ù–∞ Flask —Å–µ—Ä–≤–µ—Ä–µ:
cat .env | grep GENERATOR_ENCRYPTION_KEY

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏ Flask
docker compose -f docker-compose.flask.yml logs -f flask-ai
```

### –ü—Ä–æ–±–ª–µ–º–∞: 502 Bad Gateway –æ—Ç Nginx

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º —á—Ç–æ Django –∑–∞–ø—É—â–µ–Ω
docker compose -f docker-compose.production.yml ps django

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏ Nginx
docker compose -f docker-compose.production.yml logs nginx

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é Nginx
docker compose -f docker-compose.production.yml exec nginx nginx -t

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ–º Nginx
docker compose -f docker-compose.production.yml restart nginx
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø–∞–º—è—Ç–∏

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
free -h
docker stats

# –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º swap (–µ—Å–ª–∏ –Ω–µ—Ç)
sudo fallocate -l 2G /swapfile
sudo chmod 600 /swapfile
sudo mkswap /swapfile
sudo swapon /swapfile
echo '/swapfile none swap sw 0 0' | sudo tee -a /etc/fstab

# –£–º–µ–Ω—å—à–∞–µ–º workers –≤ gunicorn (docker-compose.production.yml)
# --workers 3 -> --workers 2
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞

```bash
# –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
docker stats

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏
docker compose -f docker-compose.production.yml logs --tail=100

# –ü—Ä–æ–≤–µ—Ä—è–µ–º Redis
docker compose -f docker-compose.production.yml exec redis redis-cli ping
docker compose -f docker-compose.production.yml exec redis redis-cli info stats

# –û—á–∏—â–∞–µ–º —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ
docker system prune -a --volumes
```

---

## üìû –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–æ–º–æ—â—å

### –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∑–∞–ø—É—â–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã
docker ps

# –ü–æ–∫–∞–∑–∞—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–∞ Docker
docker system df

# –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
docker system prune -a

# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker compose -f docker-compose.production.yml restart

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker compose -f docker-compose.production.yml stop

# –ü–æ–ª–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ (–≤–∫–ª—é—á–∞—è volumes)
docker compose -f docker-compose.production.yml down -v
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```bash
# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Å–µ—Ö –ø–∞–∫–µ—Ç–æ–≤
sudo apt update && sudo apt upgrade -y

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ—Ä—Ç–æ–≤
sudo netstat -tulpn | grep LISTEN

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ firewall
sudo ufw allow 22/tcp
sudo ufw allow 80/tcp
sudo ufw allow 443/tcp
sudo ufw enable

# Fail2ban –¥–ª—è –∑–∞—â–∏—Ç—ã –æ—Ç –±—Ä—É—Ç—Ñ–æ—Ä—Å–∞
sudo apt install fail2ban
sudo systemctl enable fail2ban
```

---

## ‚úÖ Checklist –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –≤ production

### Django —Å–µ—Ä–≤–µ—Ä:
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Docker –∏ Docker Compose
- [ ] –°–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω `.env` —Ñ–∞–π–ª
- [ ] `DEBUG=False` –≤ `.env`
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω `nginx.prod.conf` —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –¥–æ–º–µ–Ω–æ–º
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω firewall (–ø–æ—Ä—Ç—ã 80, 443)
- [ ] –°–æ–∑–¥–∞–Ω—ã –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `/opt/ghostwriter/*`
- [ ] –ü–æ–ª—É—á–µ–Ω—ã API –∫–ª—é—á–∏ (GigaChat, Telegram Bot)
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω webhook –¥–ª—è Telegram –±–æ—Ç–∞
- [ ] –°–æ–∑–¥–∞–Ω superuser –¥–ª—è Django admin
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω–æ –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ SSL
- [ ] –î–æ–±–∞–≤–ª–µ–Ω systemd service –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞

### Flask —Å–µ—Ä–≤–µ—Ä:
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω Docker –∏ Docker Compose
- [ ] –°–æ–∑–¥–∞–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω `.env` —Ñ–∞–π–ª
- [ ] –ü–æ–ª—É—á–µ–Ω OpenAI API –∫–ª—é—á
- [ ] `GENERATOR_ENCRYPTION_KEY` —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å Django
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—ã
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω `flask_generator/nginx.conf`
- [ ] –ù–∞—Å—Ç—Ä–æ–µ–Ω firewall (–ø–æ—Ä—Ç—ã 80, 443)
- [ ] –°–æ–∑–¥–∞–Ω—ã –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ `/opt/flask-ai/*`
- [ ] Flask –¥–æ—Å—Ç—É–ø–µ–Ω —Å Django —Å–µ—Ä–≤–µ—Ä–∞
- [ ] –î–æ–±–∞–≤–ª–µ–Ω systemd service –¥–ª—è –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫–∞

---

## üéâ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –≤–∞—à Ghostwriter –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –∏ —Ä–∞–±–æ—Ç–∞—Ç—å –≤ production!

**–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://yourdomain.com/`
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –±–æ—Ç—É
4. –ü–æ–ª—É—á–∏—Ç–µ DEMO —Ç–æ–∫–µ–Ω
5. –ü—Ä–æ–π–¥–∏—Ç–µ –ø–æ —Å—Å—ã–ª–∫–µ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –∫–æ–Ω—Ç–µ–Ω—Ç–∞

**–ü–æ–¥–¥–µ—Ä–∂–∫–∞:**
- GitHub Issues: https://github.com/yourusername/ghostwriter/issues
- Email: support@yourdomain.com

---

*–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 2026-01-11*
